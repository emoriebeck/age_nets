<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Background on the SAPA Project | Interindividual Age Differences in Personality Structure</title>
  <meta name="description" content="Chapter 2 Background on the SAPA Project | Interindividual Age Differences in Personality Structure" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Background on the SAPA Project | Interindividual Age Differences in Personality Structure" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Background on the SAPA Project | Interindividual Age Differences in Personality Structure" />
  
  
  

<meta name="author" content="Emorie D Beck" />
<meta name="author" content="David M Condon" />
<meta name="author" content="Joshua J Jackson" />


<meta name="date" content="2022-02-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="workspace.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="background.html"><a href="background.html"><i class="fa fa-check"></i><b>2</b> Background on the SAPA Project</a>
<ul>
<li class="chapter" data-level="2.1" data-path="background.html"><a href="background.html#packages"><i class="fa fa-check"></i><b>2.1</b> Packages</a></li>
<li class="chapter" data-level="2.2" data-path="background.html"><a href="background.html#methods"><i class="fa fa-check"></i><b>2.2</b> Methods</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="background.html"><a href="background.html#to-2010"><i class="fa fa-check"></i><b>2.2.1</b> 2006 to 2010</a></li>
<li class="chapter" data-level="2.2.2" data-path="background.html"><a href="background.html#to-2017"><i class="fa fa-check"></i><b>2.2.2</b> 2010 to 2017}</a></li>
<li class="chapter" data-level="2.2.3" data-path="background.html"><a href="background.html#merge-the-datasets-and-describe"><i class="fa fa-check"></i><b>2.2.3</b> Merge the datasets and Describe</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="workspace.html"><a href="workspace.html"><i class="fa fa-check"></i><b>3</b> Workspace</a>
<ul>
<li class="chapter" data-level="3.1" data-path="workspace.html"><a href="workspace.html#load-and-clean-data"><i class="fa fa-check"></i><b>3.1</b> Load and Clean Data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="fit-the-multi-trait-networks-mtnetworks.html"><a href="fit-the-multi-trait-networks-mtnetworks.html"><i class="fa fa-check"></i><b>4</b> Fit the Multi-Trait Networks {MTnetworks}</a>
<ul>
<li class="chapter" data-level="4.1" data-path="fit-the-multi-trait-networks-mtnetworks.html"><a href="fit-the-multi-trait-networks-mtnetworks.html#multi-trait-networks"><i class="fa fa-check"></i><b>4.1</b> Multi-Trait Networks</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="fit-the-multi-trait-networks-mtnetworks.html"><a href="fit-the-multi-trait-networks-mtnetworks.html#setup-data"><i class="fa fa-check"></i><b>4.1.1</b> Setup Data</a></li>
<li class="chapter" data-level="4.1.2" data-path="fit-the-multi-trait-networks-mtnetworks.html"><a href="fit-the-multi-trait-networks-mtnetworks.html#run-models"><i class="fa fa-check"></i><b>4.1.2</b> Run Models</a></li>
<li class="chapter" data-level="4.1.3" data-path="fit-the-multi-trait-networks-mtnetworks.html"><a href="fit-the-multi-trait-networks-mtnetworks.html#compile-results"><i class="fa fa-check"></i><b>4.1.3</b> Compile Results</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="fit-the-multi-trait-networks-mtnetworks.html"><a href="fit-the-multi-trait-networks-mtnetworks.html#n-500-across-ages"><i class="fa fa-check"></i><b>4.2</b> N = 500 Across Ages</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="fit-the-multi-trait-networks-mtnetworks.html"><a href="fit-the-multi-trait-networks-mtnetworks.html#run-models-1"><i class="fa fa-check"></i><b>4.2.1</b> Run Models</a></li>
<li class="chapter" data-level="4.2.2" data-path="fit-the-multi-trait-networks-mtnetworks.html"><a href="fit-the-multi-trait-networks-mtnetworks.html#compile-results-1"><i class="fa fa-check"></i><b>4.2.2</b> Compile Results</a></li>
<li class="chapter" data-level="4.2.3" data-path="fit-the-multi-trait-networks-mtnetworks.html"><a href="fit-the-multi-trait-networks-mtnetworks.html#summarize-results"><i class="fa fa-check"></i><b>4.2.3</b> Summarize Results</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="fit-the-multi-trait-networks-mtnetworks.html"><a href="fit-the-multi-trait-networks-mtnetworks.html#additional-sensitivity-analyses"><i class="fa fa-check"></i><b>4.3</b> Additional Sensitivity Analyses</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="fit-the-multi-trait-networks-mtnetworks.html"><a href="fit-the-multi-trait-networks-mtnetworks.html#forcepd-f"><i class="fa fa-check"></i><b>4.3.1</b> forcePD = F</a></li>
<li class="chapter" data-level="4.3.2" data-path="fit-the-multi-trait-networks-mtnetworks.html"><a href="fit-the-multi-trait-networks-mtnetworks.html#n-n-for-60s-group-forcepd-f"><i class="fa fa-check"></i><b>4.3.2</b> N = N for 60’s group, forcePD = F</a></li>
<li class="chapter" data-level="4.3.3" data-path="fit-the-multi-trait-networks-mtnetworks.html"><a href="fit-the-multi-trait-networks-mtnetworks.html#n-1000-forcepd-f"><i class="fa fa-check"></i><b>4.3.3</b> N = 1000, forcePD = F</a></li>
<li class="chapter" data-level="4.3.4" data-path="fit-the-multi-trait-networks-mtnetworks.html"><a href="fit-the-multi-trait-networks-mtnetworks.html#remove-multicollinear-items-forcepd-f"><i class="fa fa-check"></i><b>4.3.4</b> Remove Multicollinear Items, forcePD = F</a></li>
<li class="chapter" data-level="4.3.5" data-path="fit-the-multi-trait-networks-mtnetworks.html"><a href="fit-the-multi-trait-networks-mtnetworks.html#remove-multicollinear-items-forcepd-f-n-n-for-60s-group"><i class="fa fa-check"></i><b>4.3.5</b> Remove Multicollinear Items, forcePD = F, N = N for 60’s group</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="single-trait-networks.html"><a href="single-trait-networks.html"><i class="fa fa-check"></i><b>5</b> Single Trait Networks</a>
<ul>
<li class="chapter" data-level="5.1" data-path="single-trait-networks.html"><a href="single-trait-networks.html#STnetworks"><i class="fa fa-check"></i><b>5.1</b> Fit the Single Trait Networks</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="single-trait-networks.html"><a href="single-trait-networks.html#compile-the-results"><i class="fa fa-check"></i><b>5.1.1</b> Compile the Results</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="single-trait-networks.html"><a href="single-trait-networks.html#n-500-single-trait-networks"><i class="fa fa-check"></i><b>5.2</b> N = 500 Single Trait Networks</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="single-trait-networks.html"><a href="single-trait-networks.html#compile-the-results-1"><i class="fa fa-check"></i><b>5.2.1</b> Compile the Results</a></li>
<li class="chapter" data-level="5.2.2" data-path="single-trait-networks.html"><a href="single-trait-networks.html#summarize-the-results"><i class="fa fa-check"></i><b>5.2.2</b> Summarize the Results</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="pcors.html"><a href="pcors.html"><i class="fa fa-check"></i><b>6</b> Age Differences in Coherence and Differentiation</a>
<ul>
<li class="chapter" data-level="6.1" data-path="pcors.html"><a href="pcors.html#Figure1"><i class="fa fa-check"></i><b>6.1</b> Multi-Trait Coherence and Differentiation</a></li>
<li class="chapter" data-level="6.2" data-path="pcors.html"><a href="pcors.html#Figure2"><i class="fa fa-check"></i><b>6.2</b> Single and Mutli-Trait Coherence</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="communities.html"><a href="communities.html"><i class="fa fa-check"></i><b>7</b> Community Structure</a>
<ul>
<li class="chapter" data-level="7.0.1" data-path="communities.html"><a href="communities.html#nmi"><i class="fa fa-check"></i><b>7.0.1</b> NMI</a></li>
<li class="chapter" data-level="7.0.2" data-path="communities.html"><a href="communities.html#network-plots-with-community-structure"><i class="fa fa-check"></i><b>7.0.2</b> Network Plots with Community Structure</a></li>
<li class="chapter" data-level="7.0.3" data-path="communities.html"><a href="communities.html#gifs-across-all-ages-a"><i class="fa fa-check"></i><b>7.0.3</b> GIFs Across All Ages a</a></li>
<li class="chapter" data-level="7.0.4" data-path="communities.html"><a href="communities.html#matching-across-communities"><i class="fa fa-check"></i><b>7.0.4</b> Matching Across Communities</a></li>
<li class="chapter" data-level="7.0.5" data-path="communities.html"><a href="communities.html#modularity"><i class="fa fa-check"></i><b>7.0.5</b> Modularity</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="procors.html"><a href="procors.html"><i class="fa fa-check"></i><b>8</b> Profile Correlations</a>
<ul>
<li class="chapter" data-level="8.1" data-path="procors.html"><a href="procors.html#Figure5"><i class="fa fa-check"></i><b>8.1</b> Profiles Correlation Plots (Figure 5)</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="efa.html"><a href="efa.html"><i class="fa fa-check"></i><b>9</b> Supplementary Analyses: Exploratory Factor Analysis</a>
<ul>
<li class="chapter" data-level="9.1" data-path="efa.html"><a href="efa.html#compile-results-2"><i class="fa fa-check"></i><b>9.1</b> Compile Results</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="efa.html"><a href="efa.html#number-of-factors"><i class="fa fa-check"></i><b>9.1.1</b> Number of Factors</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="efa.html"><a href="efa.html#visualizations"><i class="fa fa-check"></i><b>9.2</b> Visualizations</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="efa.html"><a href="efa.html#differentiation"><i class="fa fa-check"></i><b>9.2.1</b> Differentiation</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Interindividual Age Differences in Personality Structure</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="background" class="section level1" number="2">
<h1><span class="header-section-number">Chapter 2</span> Background on the SAPA Project</h1>
<div id="packages" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Packages</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="background.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(qgraph)</span>
<span id="cb1-2"><a href="background.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(bootnet)</span>
<span id="cb1-3"><a href="background.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-4"><a href="background.html#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psych)</span>
<span id="cb1-5"><a href="background.html#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(paran)</span>
<span id="cb1-6"><a href="background.html#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb1-7"><a href="background.html#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb1-8"><a href="background.html#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb1-9"><a href="background.html#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(parallel)</span>
<span id="cb1-10"><a href="background.html#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb1-11"><a href="background.html#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb1-12"><a href="background.html#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span>
<span id="cb1-13"><a href="background.html#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb1-14"><a href="background.html#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plyr)</span>
<span id="cb1-15"><a href="background.html#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-16"><a href="background.html#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(furrr)</span></code></pre></div>
</div>
<div id="methods" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Methods</h2>
<p>All of the data being pulled in have previously been cleaned. There are two big files — one from 2006 to 2010 and a second from 2010 to now.</p>
<div id="to-2010" class="section level3" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> 2006 to 2010</h3>
<p>The older data set is based on the predecessor platform to SAPA (a 50-item survey, created by William Revelle and hosted at www.personalityproject.org). There are a couple of issues with this sample. First, there was much less demographic information collected at that time (age, gender, ethnicity, education, and a few others). Second, it only sampled 50 items from the IPIP100 (each participant got 2 of 4 25-item blocks) and a preliminary set of ICAR items, most of which have since been deprecated. Third, there were two technical problems that caused a complete lack of data collection for one of the IPIP items (q_55) and a partial lack of data collection for two others (q_316 and q_995). Still, these data remain quite useful in that they include responses on 99 of the 100 IPIP items from about 114k participants.</p>
<p>The following code chunk pulls in the first sample and describes it. Note that only 99 variables are listed because item q_55 is empty.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="background.html#cb2-1" aria-hidden="true" tabindex="-1"></a>data_path <span class="ot">&lt;-</span> <span class="st">&quot;https://github.com/emoriebeck/age_nets/blob/master&quot;</span></span>
<span id="cb2-2"><a href="background.html#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="fu">url</span>(<span class="fu">sprintf</span>(<span class="st">&quot;%s/data/SAPAdata4apr2006to18aug2010.rdata?raw=true&quot;</span>, data_path)))</span>
<span id="cb2-3"><a href="background.html#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="background.html#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(taFinal)  <span class="co"># Participants who did not answer any IPIP100 items removed.</span></span></code></pre></div>
<pre><code>## [1] 114016    141</code></pre>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="background.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify Ps who didnt answer any IPIP100 items</span></span>
<span id="cb4-2"><a href="background.html#cb4-2" aria-hidden="true" tabindex="-1"></a>empty <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(<span class="fu">subset</span>(taFinal, <span class="at">select =</span> <span class="fu">c</span>(q_76<span class="sc">:</span>q_1989)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-3"><a href="background.html#cb4-3" aria-hidden="true" tabindex="-1"></a>taFinal <span class="ot">&lt;-</span> taFinal[empty <span class="sc">&gt;</span> <span class="dv">0</span>, ]</span>
<span id="cb4-4"><a href="background.html#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(taFinal)  <span class="co"># Participants who did not answer any IPIP100 items removed.</span></span></code></pre></div>
<pre><code>## [1] 113961    141</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="background.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">describe</span>(<span class="fu">subset</span>(taFinal, <span class="at">select =</span> <span class="fu">c</span>(q_76<span class="sc">:</span>q_1989)), <span class="at">fast =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##        vars     n mean   sd min max range   se
## q_76      1 56860 4.20 1.27   1   6     5 0.01
## q_108     2 56739 3.29 1.45   1   6     5 0.01
## q_124     3 56014 4.48 1.22   1   6     5 0.01
## q_128     4 55964 4.81 1.13   1   6     5 0.00
## q_132     5 57010 4.77 1.09   1   6     5 0.00
## q_140     6 56719 3.41 1.65   1   6     5 0.01
## q_146     7 56131 2.30 1.34   1   6     5 0.01
## q_150     8 56781 4.89 1.16   1   6     5 0.00
## q_177     9 56719 3.41 1.49   1   6     5 0.01
## q_194    10 56665 2.47 1.33   1   6     5 0.01
## q_195    11 56813 2.52 1.36   1   6     5 0.01
## q_200    12 56783 2.29 1.29   1   6     5 0.01
## q_217    13 57159 4.73 1.22   1   6     5 0.01
## q_240    14 56685 4.86 1.04   1   6     5 0.00
## q_241    15 56739 3.95 1.57   1   6     5 0.01
## q_248    16 56715 4.05 1.34   1   6     5 0.01
## q_254    17 57135 4.33 1.37   1   6     5 0.01
## q_262    18 56926 3.28 1.51   1   6     5 0.01
## q_316    19  5723 2.71 1.54   1   6     5 0.02
## q_403    20 57115 3.83 1.54   1   6     5 0.01
## q_422    21 57012 4.66 1.18   1   6     5 0.00
## q_492    22 55996 4.42 1.19   1   6     5 0.01
## q_493    23 57076 4.97 1.05   1   6     5 0.00
## q_497    24 56707 3.52 1.53   1   6     5 0.01
## q_530    25 56043 4.27 1.30   1   6     5 0.01
## q_609    26 56727 2.14 1.33   1   6     5 0.01
## q_619    27 56025 4.30 1.27   1   6     5 0.01
## q_626    28 56009 2.65 1.38   1   6     5 0.01
## q_690    29 56718 3.84 1.48   1   6     5 0.01
## q_698    30 56739 3.74 1.62   1   6     5 0.01
## q_712    31 56031 2.94 1.60   1   6     5 0.01
## q_815    32 57031 4.33 1.32   1   6     5 0.01
## q_819    33 56746 4.35 1.35   1   6     5 0.01
## q_838    34 56689 2.18 1.35   1   6     5 0.01
## q_844    35 56669 4.68 1.22   1   6     5 0.01
## q_890    36 57094 2.89 1.49   1   6     5 0.01
## q_901    37 56065 3.24 1.56   1   6     5 0.01
## q_904    38 57159 3.23 1.55   1   6     5 0.01
## q_931    39 56644 3.92 1.48   1   6     5 0.01
## q_952    40 56020 2.92 1.52   1   6     5 0.01
## q_960    41 57004 3.71 1.42   1   6     5 0.01
## q_962    42 56794 3.34 1.54   1   6     5 0.01
## q_974    43 56025 3.50 1.50   1   6     5 0.01
## q_979    44 57034 3.64 1.59   1   6     5 0.01
## q_986    45 56862 3.73 1.56   1   6     5 0.01
## q_995    46  5795 3.27 1.53   1   6     5 0.02
## q_1020   47 56943 3.51 1.39   1   6     5 0.01
## q_1041   48 57064 4.23 1.28   1   6     5 0.01
## q_1050   49 56791 4.36 1.30   1   6     5 0.01
## q_1053   50 56750 4.71 1.27   1   6     5 0.01
## q_1058   51 56700 4.84 1.20   1   6     5 0.01
## q_1083   52 56637 1.97 1.15   1   6     5 0.00
## q_1088   53 56773 2.49 1.32   1   6     5 0.01
## q_1090   54 56684 4.74 1.00   1   6     5 0.00
## q_1099   55 56135 3.23 1.58   1   6     5 0.01
## q_1114   56 56753 2.61 1.46   1   6     5 0.01
## q_1162   57 55998 4.83 1.13   1   6     5 0.00
## q_1163   58 56879 2.45 1.44   1   6     5 0.01
## q_1180   59 56738 3.35 1.45   1   6     5 0.01
## q_1205   60 56018 3.99 1.32   1   6     5 0.01
## q_1206   61 55916 4.59 1.28   1   6     5 0.01
## q_1254   62 57066 3.76 1.76   1   6     5 0.01
## q_1255   63 56782 3.37 1.67   1   6     5 0.01
## q_1290   64 56684 4.43 1.33   1   6     5 0.01
## q_1333   65 57010 4.08 1.50   1   6     5 0.01
## q_1364   66 56038 4.67 1.45   1   6     5 0.01
## q_1374   67 57062 4.16 1.38   1   6     5 0.01
## q_1385   68 57084 4.95 1.09   1   6     5 0.00
## q_1388   69 57056 4.01 1.60   1   6     5 0.01
## q_1392   70 57003 4.58 1.20   1   6     5 0.01
## q_1397   71 56715 2.73 1.41   1   6     5 0.01
## q_1410   72 56209 4.39 1.44   1   6     5 0.01
## q_1419   73 56077 4.61 1.18   1   6     5 0.00
## q_1422   74 57075 4.21 1.31   1   6     5 0.01
## q_1452   75 56685 2.28 1.31   1   6     5 0.01
## q_1479   76 55972 3.15 1.53   1   6     5 0.01
## q_1480   77 56834 3.06 1.50   1   6     5 0.01
## q_1483   78 56770 3.27 1.67   1   6     5 0.01
## q_1505   79 56005 3.00 1.59   1   6     5 0.01
## q_1507   80 56784 4.74 1.16   1   6     5 0.00
## q_1585   81 56738 3.24 1.45   1   6     5 0.01
## q_1677   82 56695 3.36 1.49   1   6     5 0.01
## q_1683   83 56629 3.61 1.52   1   6     5 0.01
## q_1696   84 56533 2.61 1.34   1   6     5 0.01
## q_1705   85 57010 4.99 0.98   1   6     5 0.00
## q_1738   86 56067 4.90 1.14   1   6     5 0.00
## q_1742   87 56672 4.27 1.39   1   6     5 0.01
## q_1763   88 56749 4.85 1.15   1   6     5 0.00
## q_1768   89 56005 4.33 1.31   1   6     5 0.01
## q_1775   90 57002 3.32 1.48   1   6     5 0.01
## q_1792   91 56656 4.65 1.12   1   6     5 0.00
## q_1803   92 56724 3.65 1.68   1   6     5 0.01
## q_1832   93 57047 4.30 1.25   1   6     5 0.01
## q_1861   94 56664 2.66 1.42   1   6     5 0.01
## q_1893   95 56675 3.64 1.49   1   6     5 0.01
## q_1913   96 57047 3.09 1.40   1   6     5 0.01
## q_1949   97 56037 3.44 1.56   1   6     5 0.01
## q_1964   98 55945 2.51 1.29   1   6     5 0.01
## q_1989   99 56748 4.36 1.40   1   6     5 0.01</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="background.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># table by gender</span></span>
<span id="cb8-2"><a href="background.html#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(taFinal<span class="sc">$</span>gender)</span></code></pre></div>
<pre><code>## 
##   Male Female 
##  37864  76097</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="background.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># describe the age distribution</span></span>
<span id="cb10-2"><a href="background.html#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">describe</span>(taFinal<span class="sc">$</span>age, <span class="at">fast =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##    vars      n mean    sd min max range   se
## X1    1 113961 27.3 11.17  14  90    76 0.03</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="background.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># how many countries are represented?</span></span>
<span id="cb12-2"><a href="background.html#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">table</span>(taFinal<span class="sc">$</span>country))</span></code></pre></div>
<pre><code>## [1] 204</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="background.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># show the top 25 countries</span></span>
<span id="cb14-2"><a href="background.html#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">table</span>(taFinal<span class="sc">$</span>country), <span class="at">decreasing =</span> <span class="cn">TRUE</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>]</span></code></pre></div>
<pre><code>## 
##   USA   CAN   GBR   AUS   IND   MYS   PHL   CHN   DEU   SGP   SWE   MEX   POL   NLD   IRL   NZL   ZAF   KOR   HKG   BRA   NOR   FRA   ROU 
## 83110  5661  4025  3647  1795   844   756   645   628   617   574   556   473   453   417   398   398   352   343   317   314   304   301 
##   PAK   ITA 
##   235   215</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="background.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># show the US states, in order</span></span>
<span id="cb16-2"><a href="background.html#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">table</span>(taFinal<span class="sc">$</span>state), <span class="at">decreasing =</span> <span class="cn">TRUE</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">51</span>]</span></code></pre></div>
<pre><code>## 
##           California             Illinois             New York         Pennsylvania                Texas                 Ohio 
##                 9709                 5520                 4942                 4758                 4662                 3600 
##              Florida             Virginia             Michigan           New Jersey              Georgia            Wisconsin 
##                 2936                 2787                 2549                 2495                 2414                 2377 
##            Minnesota            Louisiana        Massachusetts             Maryland           Washington              Indiana 
##                 2104                 2030                 1935                 1772                 1742                 1707 
##             Missouri       North Carolina               Oregon           New Mexico            Tennessee             Colorado 
##                 1611                 1454                 1203                 1199                 1133                 1097 
##       South Carolina          Connecticut                 Iowa              Arizona             Kentucky               Kansas 
##                 1010                  986                  982                  866                  820                  808 
##             Oklahoma              Alabama          Mississippi             Delaware             Nebraska             Arkansas 
##                  771                  643                  604                  592                  580                  577 
##               Alaska                 Utah         Rhode Island        New Hampshire        West Virginia                Maine 
##                  555                  487                  422                  389                  384                  356 
##                Idaho               Hawaii               Nevada              Montana         North Dakota District of Columbia 
##                  340                  292                  274                  243                  190                  174 
##         South Dakota              Vermont              Wyoming 
##                  172                  161                  126</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="background.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># table by ethnicity</span></span>
<span id="cb18-2"><a href="background.html#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(taFinal<span class="sc">$</span>ethnic)</span></code></pre></div>
<pre><code>## &lt; table of extent 0 &gt;</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="background.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># table by education</span></span>
<span id="cb20-2"><a href="background.html#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(taFinal<span class="sc">$</span>education)</span></code></pre></div>
<pre><code>## 
##              Less than 12 years            High school graduate   Some college did not graduate     Currently attending college 
##                           15052                            9037                           10736                           42080 
##                College graduate Graduate or professional degree 
##                           18296                           18760</code></pre>
</div>
<div id="to-2017" class="section level3" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> 2010 to 2017}</h3>
<p>From August 18, 2010 to February 7, 2017, the data were collected from the SAPA-Project.org. While many more variables (including many more demographic variables) were collected in this sample, the data are pared down to match the older set. It should also be noted that large subsets of these data have previously been placed in the public domain (see <a href="https://dataverse.harvard.edu/dataverse/SAPA-Project" class="uri">https://dataverse.harvard.edu/dataverse/SAPA-Project</a>).</p>
<p>Here, we pull in the second sample, subset it, and describe the result.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="background.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="fu">url</span>(<span class="fu">sprintf</span>(<span class="st">&quot;%s/data/SAPAdata18aug2010thru7feb2017.rdata?raw=true&quot;</span>, data_path)))</span>
<span id="cb22-2"><a href="background.html#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="background.html#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(SAPAdata18aug2010thru7feb2017)  <span class="co"># Participants who did not answer any IPIP100 items removed.</span></span></code></pre></div>
<pre><code>## [1] 255348    953</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="background.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify Ps who didnt answer any IPIP100 items</span></span>
<span id="cb24-2"><a href="background.html#cb24-2" aria-hidden="true" tabindex="-1"></a>empty <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(<span class="fu">subset</span>(SAPAdata18aug2010thru7feb2017, <span class="at">select =</span> <span class="fu">c</span>(q_55<span class="sc">:</span>q_1989)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb24-3"><a href="background.html#cb24-3" aria-hidden="true" tabindex="-1"></a>SAPAdata18aug2010thru7feb2017 <span class="ot">&lt;-</span> SAPAdata18aug2010thru7feb2017[empty <span class="sc">&gt;</span> <span class="dv">0</span>, ]</span>
<span id="cb24-4"><a href="background.html#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(SAPAdata18aug2010thru7feb2017)  <span class="co"># Participants who did not answer any IPIP100 items removed.</span></span></code></pre></div>
<pre><code>## [1] 255190    953</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="background.html#cb26-1" aria-hidden="true" tabindex="-1"></a>SAPAdata18aug2010thru7feb2017 <span class="ot">&lt;-</span> SAPAdata18aug2010thru7feb2017 <span class="sc">%&gt;%</span></span>
<span id="cb26-2"><a href="background.html#cb26-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">one_of</span>(<span class="fu">c</span>(<span class="st">&quot;q_55&quot;</span>, <span class="fu">colnames</span>(taFinal)))) <span class="sc">%&gt;%</span></span>
<span id="cb26-3"><a href="background.html#cb26-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(RID<span class="sc">:</span>education, q_55, <span class="fu">everything</span>())</span>
<span id="cb26-4"><a href="background.html#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="background.html#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="fu">describe</span>(<span class="fu">subset</span>(SAPAdata18aug2010thru7feb2017, <span class="at">select =</span> <span class="fu">c</span>(q_55<span class="sc">:</span>q_1989)), <span class="at">fast =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##        vars     n mean   sd min max range   se
## q_55      1 59248 4.05 1.49   1   6     5 0.01
## q_76      2 59282 4.18 1.26   1   6     5 0.01
## q_108     3 57880 3.21 1.45   1   6     5 0.01
## q_124     4 70237 4.45 1.18   1   6     5 0.00
## q_128     5 69812 4.77 1.14   1   6     5 0.00
## q_132     6 69751 4.64 1.15   1   6     5 0.00
## q_140     7 59834 3.41 1.63   1   6     5 0.01
## q_146     8 68259 2.38 1.36   1   6     5 0.01
## q_150     9 68308 4.81 1.19   1   6     5 0.00
## q_177    10 58340 3.44 1.49   1   6     5 0.01
## q_194    11 59219 2.43 1.31   1   6     5 0.01
## q_195    12 68069 2.61 1.38   1   6     5 0.01
## q_200    13 68525 2.41 1.33   1   6     5 0.01
## q_217    14 59074 4.70 1.21   1   6     5 0.00
## q_240    15 69644 4.82 1.05   1   6     5 0.00
## q_241    16 59522 4.01 1.58   1   6     5 0.01
## q_248    17 58209 4.00 1.37   1   6     5 0.01
## q_254    18 60182 4.21 1.41   1   6     5 0.01
## q_262    19 59494 3.18 1.54   1   6     5 0.01
## q_316    20 69979 2.70 1.54   1   6     5 0.01
## q_403    21 59382 3.98 1.53   1   6     5 0.01
## q_422    22 69499 4.61 1.21   1   6     5 0.00
## q_492    23 69740 4.41 1.20   1   6     5 0.00
## q_493    24 69509 4.91 1.06   1   6     5 0.00
## q_497    25 58027 3.44 1.52   1   6     5 0.01
## q_530    26 70916 4.31 1.27   1   6     5 0.00
## q_609    27 59701 2.19 1.36   1   6     5 0.01
## q_619    28 70528 4.31 1.25   1   6     5 0.00
## q_626    29 59498 2.59 1.35   1   6     5 0.01
## q_690    30 59601 3.96 1.48   1   6     5 0.01
## q_698    31 70353 3.54 1.61   1   6     5 0.01
## q_712    32 59897 3.05 1.61   1   6     5 0.01
## q_815    33 59519 4.20 1.36   1   6     5 0.01
## q_819    34 59304 4.27 1.39   1   6     5 0.01
## q_838    35 68245 2.35 1.46   1   6     5 0.01
## q_844    36 68357 4.68 1.23   1   6     5 0.00
## q_890    37 58185 2.89 1.47   1   6     5 0.01
## q_901    38 59862 3.27 1.58   1   6     5 0.01
## q_904    39 59520 3.21 1.54   1   6     5 0.01
## q_931    40 70518 4.02 1.45   1   6     5 0.01
## q_952    41 58427 2.92 1.52   1   6     5 0.01
## q_960    42 58032 3.70 1.44   1   6     5 0.01
## q_962    43 59196 3.37 1.54   1   6     5 0.01
## q_974    44 58193 3.49 1.49   1   6     5 0.01
## q_979    45 58197 3.62 1.59   1   6     5 0.01
## q_986    46 58344 3.79 1.57   1   6     5 0.01
## q_995    47 58004 3.25 1.52   1   6     5 0.01
## q_1020   48 58039 3.42 1.39   1   6     5 0.01
## q_1041   49 68142 4.30 1.26   1   6     5 0.00
## q_1050   50 69752 4.34 1.29   1   6     5 0.00
## q_1053   51 68453 4.70 1.26   1   6     5 0.00
## q_1058   52 59526 4.81 1.21   1   6     5 0.00
## q_1083   53 59048 2.00 1.17   1   6     5 0.00
## q_1088   54 69366 2.48 1.30   1   6     5 0.00
## q_1090   55 69251 4.67 1.03   1   6     5 0.00
## q_1099   56 58276 3.19 1.56   1   6     5 0.01
## q_1114   57 59641 2.72 1.47   1   6     5 0.01
## q_1162   58 68437 4.79 1.16   1   6     5 0.00
## q_1163   59 58733 2.40 1.41   1   6     5 0.01
## q_1180   60 59365 3.47 1.47   1   6     5 0.01
## q_1205   61 69960 3.92 1.34   1   6     5 0.01
## q_1206   62 68167 4.57 1.28   1   6     5 0.00
## q_1254   63 59382 3.71 1.73   1   6     5 0.01
## q_1255   64 59350 3.33 1.64   1   6     5 0.01
## q_1290   65 70597 4.49 1.27   1   6     5 0.00
## q_1333   66 69656 4.15 1.46   1   6     5 0.01
## q_1364   67 68534 4.63 1.47   1   6     5 0.01
## q_1374   68 70631 4.25 1.33   1   6     5 0.01
## q_1385   69 68461 5.01 1.09   1   6     5 0.00
## q_1388   70 69687 3.98 1.58   1   6     5 0.01
## q_1392   71 69585 4.58 1.20   1   6     5 0.00
## q_1397   72 59299 2.82 1.42   1   6     5 0.01
## q_1410   73 59784 4.30 1.47   1   6     5 0.01
## q_1419   74 68562 4.61 1.16   1   6     5 0.00
## q_1422   75 59488 4.27 1.29   1   6     5 0.01
## q_1452   76 59530 2.31 1.32   1   6     5 0.01
## q_1479   77 58257 3.17 1.53   1   6     5 0.01
## q_1480   78 59220 3.11 1.51   1   6     5 0.01
## q_1483   79 59564 3.29 1.64   1   6     5 0.01
## q_1505   80 58229 3.05 1.60   1   6     5 0.01
## q_1507   81 70717 4.80 1.13   1   6     5 0.00
## q_1585   82 58116 3.23 1.44   1   6     5 0.01
## q_1677   83 58010 3.27 1.49   1   6     5 0.01
## q_1683   84 58091 3.62 1.50   1   6     5 0.01
## q_1696   85 58914 2.60 1.34   1   6     5 0.01
## q_1705   86 68148 4.99 1.01   1   6     5 0.00
## q_1738   87 59777 4.93 1.13   1   6     5 0.00
## q_1742   88 59128 4.15 1.43   1   6     5 0.01
## q_1763   89 68336 4.83 1.18   1   6     5 0.00
## q_1768   90 70279 4.33 1.31   1   6     5 0.00
## q_1775   91 58307 3.19 1.48   1   6     5 0.01
## q_1792   92 68363 4.68 1.14   1   6     5 0.00
## q_1803   93 59615 3.55 1.70   1   6     5 0.01
## q_1832   94 68502 4.43 1.25   1   6     5 0.00
## q_1861   95 59797 2.72 1.43   1   6     5 0.01
## q_1893   96 59820 3.73 1.46   1   6     5 0.01
## q_1913   97 70046 3.08 1.41   1   6     5 0.01
## q_1949   98 59504 3.39 1.57   1   6     5 0.01
## q_1964   99 59480 2.46 1.25   1   6     5 0.01
## q_1989  100 58160 4.43 1.40   1   6     5 0.01</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="background.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># table by gender</span></span>
<span id="cb28-2"><a href="background.html#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(SAPAdata18aug2010thru7feb2017<span class="sc">$</span>gender)</span></code></pre></div>
<pre><code>## 
##   male female 
##  95169 160020</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="background.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># describe the age distribution</span></span>
<span id="cb30-2"><a href="background.html#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">describe</span>(SAPAdata18aug2010thru7feb2017<span class="sc">$</span>age, <span class="at">fast =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##    vars      n  mean    sd min max range   se
## X1    1 255190 25.94 10.73  14  90    76 0.02</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="background.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># how many countries are represented?</span></span>
<span id="cb32-2"><a href="background.html#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">table</span>(SAPAdata18aug2010thru7feb2017<span class="sc">$</span>country))</span></code></pre></div>
<pre><code>## [1] 220</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="background.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># show the top 25 countries</span></span>
<span id="cb34-2"><a href="background.html#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">table</span>(SAPAdata18aug2010thru7feb2017<span class="sc">$</span>country), <span class="at">decreasing =</span> <span class="cn">TRUE</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>]</span></code></pre></div>
<pre><code>## 
##    USA    CAN    GBR    AUS    IND    SWE    DEU    PHL    MYS    CHN    NLD    SGP    NOR    NZL    MEX    FRA    BRA    ZAF    FIN    IRL 
## 168816  10581   7214   4790   2782   2425   2346   2239   2151   1441   1301   1269   1170   1033    984    844    830    793    772    673 
##    IDN    POL    ROU    HKG    ITA 
##    646    641    623    576    568</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="background.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># show the US states, in order</span></span>
<span id="cb36-2"><a href="background.html#cb36-2" aria-hidden="true" tabindex="-1"></a>state <span class="ot">&lt;-</span> <span class="fu">subset</span>(SAPAdata18aug2010thru7feb2017, country <span class="sc">==</span> <span class="st">&quot;USA&quot;</span>)</span>
<span id="cb36-3"><a href="background.html#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">table</span>(state<span class="sc">$</span>state), <span class="at">decreasing =</span> <span class="cn">TRUE</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">51</span>]</span></code></pre></div>
<pre><code>## 
##           California             Illinois                Texas             New York              Florida         Pennsylvania 
##                18062                11611                10367                 8882                 8054                 7919 
##             Michigan                 Ohio             Virginia              Georgia           Washington            Minnesota 
##                 7660                 6213                 5763                 5308                 4753                 4090 
##       North Carolina            Wisconsin           New Jersey        Massachusetts              Indiana             Maryland 
##                 3607                 3394                 3290                 3147                 2938                 2689 
##             Missouri              Arizona            Louisiana       South Carolina           New Mexico               Oregon 
##                 2567                 2495                 2487                 2479                 2223                 2213 
##            Tennessee             Delaware              Alabama             Colorado             Kentucky             Oklahoma 
##                 2135                 1929                 1865                 1816                 1757                 1643 
##                 Iowa          Connecticut             Nebraska                 Utah               Kansas          Mississippi 
##                 1441                 1355                 1348                 1309                 1165                  978 
##             Arkansas         Rhode Island               Nevada                Idaho        New Hampshire               Alaska 
##                  925                  825                  763                  683                  611                  578 
##                Maine              Montana        West Virginia               Hawaii         South Dakota              Vermont 
##                  576                  553                  512                  487                  401                  312 
## District of Columbia         North Dakota              Wyoming 
##                  309                  268                  216</code></pre>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="background.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># table by ethnicity</span></span>
<span id="cb38-2"><a href="background.html#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(SAPAdata18aug2010thru7feb2017<span class="sc">$</span>ethnic)</span></code></pre></div>
<pre><code>## &lt; table of extent 0 &gt;</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="background.html#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># table by education</span></span>
<span id="cb40-2"><a href="background.html#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(SAPAdata18aug2010thru7feb2017<span class="sc">$</span>education)</span></code></pre></div>
<pre><code>## 
##         less12yrs            HSgrad     CurrentInUniv       SomeCollege     CollegeDegree InGradOrProSchool   GradOrProDegree 
##             33011             17517            104783             13006             32020             11431             19199</code></pre>
</div>
<div id="merge-the-datasets-and-describe" class="section level3" number="2.2.3">
<h3><span class="header-section-number">2.2.3</span> Merge the datasets and Describe</h3>
<p>Now we will combine both of the samples and describe them with proper tables and figures before converting the demographics into numeric variables.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="background.html#cb42-1" aria-hidden="true" tabindex="-1"></a>fullSample <span class="ot">&lt;-</span> taFinal <span class="sc">%&gt;%</span></span>
<span id="cb42-2"><a href="background.html#cb42-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span><span class="fu">contains</span>(<span class="st">&quot;iq_&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb42-3"><a href="background.html#cb42-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">full_join</span>(SAPAdata18aug2010thru7feb2017) <span class="sc">%&gt;%</span></span>
<span id="cb42-4"><a href="background.html#cb42-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(RID<span class="sc">:</span>education, q_55, <span class="fu">everything</span>())</span>
<span id="cb42-5"><a href="background.html#cb42-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-6"><a href="background.html#cb42-6" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(SAPAdata18aug2010thru7feb2017, taFinal)</span>
<span id="cb42-7"><a href="background.html#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="fu">gc</span>()</span></code></pre></div>
<pre><code>##             used   (Mb) gc trigger   (Mb) limit (Mb)   max used    (Mb)
## Ncells  11978273  639.8   27622082 1475.2         NA   53948894  2881.2
## Vcells 555904430 4241.3 1130223224 8623.0      32768 2803745350 21390.9</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="background.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># n is total Ps in the full sample</span></span>
<span id="cb44-2"><a href="background.html#cb44-2" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">dim</span>(fullSample)[<span class="dv">1</span>]</span>
<span id="cb44-3"><a href="background.html#cb44-3" aria-hidden="true" tabindex="-1"></a>ntext <span class="ot">&lt;-</span> <span class="fu">prettyNum</span>(n, <span class="at">big.mark =</span> <span class="st">&quot;,&quot;</span>, <span class="at">scientific =</span> F)</span>
<span id="cb44-4"><a href="background.html#cb44-4" aria-hidden="true" tabindex="-1"></a>ntext</span></code></pre></div>
<pre><code>## [1] &quot;369,151&quot;</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="background.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># percent female</span></span>
<span id="cb46-2"><a href="background.html#cb46-2" aria-hidden="true" tabindex="-1"></a>femalePerc <span class="ot">&lt;-</span> <span class="dv">100</span> <span class="sc">*</span> <span class="fu">round</span>((<span class="fu">table</span>(fullSample<span class="sc">$</span>gender)<span class="sc">/</span><span class="fu">sum</span>(<span class="fu">table</span>(fullSample<span class="sc">$</span>gender)))[<span class="st">&quot;female&quot;</span>], <span class="dv">3</span>)</span>
<span id="cb46-3"><a href="background.html#cb46-3" aria-hidden="true" tabindex="-1"></a>femalePerc</span></code></pre></div>
<pre><code>## female 
##   43.3</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="background.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># describe the age distribution</span></span>
<span id="cb48-2"><a href="background.html#cb48-2" aria-hidden="true" tabindex="-1"></a>(fullSampleAge <span class="ot">&lt;-</span> psych<span class="sc">::</span><span class="fu">describe</span>(fullSample[, <span class="st">&quot;age&quot;</span>]))</span></code></pre></div>
<pre><code>##    vars      n  mean    sd median trimmed  mad min max range skew kurtosis   se
## X1    1 369151 26.36 10.89     22   24.53 7.41  14  90    76 1.48     1.86 0.02</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="background.html#cb50-1" aria-hidden="true" tabindex="-1"></a>(MeanAge <span class="ot">&lt;-</span> fullSampleAge<span class="sc">$</span>mean)</span></code></pre></div>
<pre><code>## [1] 26.36206</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="background.html#cb52-1" aria-hidden="true" tabindex="-1"></a>(SDAge <span class="ot">&lt;-</span> fullSampleAge<span class="sc">$</span>sd)</span></code></pre></div>
<pre><code>## [1] 10.88535</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="background.html#cb54-1" aria-hidden="true" tabindex="-1"></a>(MedianAge <span class="ot">&lt;-</span> fullSampleAge<span class="sc">$</span>median)</span></code></pre></div>
<pre><code>## [1] 22</code></pre>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="background.html#cb56-1" aria-hidden="true" tabindex="-1"></a>(MinAge <span class="ot">&lt;-</span> fullSampleAge<span class="sc">$</span>min)</span></code></pre></div>
<pre><code>## [1] 14</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="background.html#cb58-1" aria-hidden="true" tabindex="-1"></a>(MaxAge <span class="ot">&lt;-</span> fullSampleAge<span class="sc">$</span>max)</span></code></pre></div>
<pre><code>## [1] 90</code></pre>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="background.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># percent U.S.</span></span>
<span id="cb60-2"><a href="background.html#cb60-2" aria-hidden="true" tabindex="-1"></a>(USperc <span class="ot">&lt;-</span> <span class="dv">100</span> <span class="sc">*</span> <span class="fu">round</span>((<span class="fu">table</span>(fullSample<span class="sc">$</span>country)<span class="sc">/</span><span class="fu">sum</span>(<span class="fu">table</span>(fullSample<span class="sc">$</span>country)))[<span class="st">&quot;USA&quot;</span>], <span class="dv">3</span>))</span></code></pre></div>
<pre><code>##  USA 
## 72.5</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="background.html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># total U.S.</span></span>
<span id="cb62-2"><a href="background.html#cb62-2" aria-hidden="true" tabindex="-1"></a>(UScounttext <span class="ot">&lt;-</span> <span class="fu">prettyNum</span>((<span class="fu">table</span>(fullSample<span class="sc">$</span>country))[<span class="st">&quot;USA&quot;</span>], <span class="at">big.mark =</span> <span class="st">&quot;,&quot;</span>, <span class="at">scientific =</span> F))</span></code></pre></div>
<pre><code>##       USA 
## &quot;251,926&quot;</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="background.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># number of countries with P&gt;0</span></span>
<span id="cb64-2"><a href="background.html#cb64-2" aria-hidden="true" tabindex="-1"></a>countryTable <span class="ot">&lt;-</span> <span class="fu">sort</span>(<span class="fu">table</span>(fullSample<span class="sc">$</span>country), <span class="at">decreasing =</span> <span class="cn">TRUE</span>)</span>
<span id="cb64-3"><a href="background.html#cb64-3" aria-hidden="true" tabindex="-1"></a>countryCount <span class="ot">&lt;-</span> <span class="fu">length</span>(countryTable)</span>
<span id="cb64-4"><a href="background.html#cb64-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-5"><a href="background.html#cb64-5" aria-hidden="true" tabindex="-1"></a><span class="co"># number of countries with P&gt;199</span></span>
<span id="cb64-6"><a href="background.html#cb64-6" aria-hidden="true" tabindex="-1"></a>countryCount200 <span class="ot">&lt;-</span> <span class="fu">subset</span>(countryTable, countryTable <span class="sc">&gt;</span> <span class="dv">199</span>)</span>
<span id="cb64-7"><a href="background.html#cb64-7" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(countryCount200)</span></code></pre></div>
<pre><code>## [1] 67</code></pre>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="background.html#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># show the top 25 countries</span></span>
<span id="cb66-2"><a href="background.html#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">table</span>(fullSample<span class="sc">$</span>country), <span class="at">decreasing =</span> <span class="cn">TRUE</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>]</span></code></pre></div>
<pre><code>## 
##    USA    CAN    GBR    AUS    IND    SWE    MYS    PHL    DEU    CHN    SGP    NLD    MEX    NOR    NZL    ZAF    FRA    BRA    POL    IRL 
## 251926  16242  11239   8437   4577   2999   2995   2995   2974   2086   1886   1754   1540   1484   1431   1191   1148   1147   1114   1090 
##    FIN    ROU    HKG    IDN    ITA 
##    963    924    919    847    783</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="background.html#cb68-1" aria-hidden="true" tabindex="-1"></a>(countrytext <span class="ot">&lt;-</span> <span class="fu">prettyNum</span>(<span class="fu">sum</span>(<span class="fu">table</span>(fullSample<span class="sc">$</span>country)), <span class="at">big.mark =</span> <span class="st">&quot;,&quot;</span>, <span class="at">scientific =</span> F))</span></code></pre></div>
<pre><code>## [1] &quot;347,672&quot;</code></pre>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="background.html#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># show the US states, in order</span></span>
<span id="cb70-2"><a href="background.html#cb70-2" aria-hidden="true" tabindex="-1"></a>state <span class="ot">&lt;-</span> <span class="fu">subset</span>(fullSample, country <span class="sc">==</span> <span class="st">&quot;USA&quot;</span>)</span>
<span id="cb70-3"><a href="background.html#cb70-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">table</span>(state<span class="sc">$</span>state), <span class="at">decreasing =</span> <span class="cn">TRUE</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">51</span>]</span></code></pre></div>
<pre><code>## 
##           California             Illinois                Texas             New York         Pennsylvania              Florida 
##                27771                17131                15029                13824                12677                10990 
##             Michigan                 Ohio             Virginia              Georgia           Washington            Minnesota 
##                10209                 9813                 8550                 7722                 6495                 6194 
##           New Jersey            Wisconsin        Massachusetts       North Carolina              Indiana            Louisiana 
##                 5785                 5771                 5082                 5061                 4645                 4517 
##             Maryland             Missouri       South Carolina           New Mexico               Oregon              Arizona 
##                 4461                 4178                 3489                 3422                 3416                 3361 
##            Tennessee             Colorado             Kentucky             Delaware              Alabama                 Iowa 
##                 3268                 2913                 2577                 2521                 2508                 2423 
##             Oklahoma          Connecticut               Kansas             Nebraska                 Utah          Mississippi 
##                 2414                 2341                 1973                 1928                 1796                 1582 
##             Arkansas         Rhode Island               Alaska               Nevada                Idaho        New Hampshire 
##                 1502                 1247                 1133                 1037                 1023                 1000 
##                Maine        West Virginia              Montana               Hawaii         South Dakota District of Columbia 
##                  932                  896                  796                  779                  573                  483 
##              Vermont         North Dakota              Wyoming 
##                  473                  458                  342</code></pre>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="background.html#cb72-1" aria-hidden="true" tabindex="-1"></a>education <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">table</span>(fullSample<span class="sc">$</span>education))</span>
<span id="cb72-2"><a href="background.html#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(education) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Educational Level&quot;</span>, <span class="st">&quot;Participants&quot;</span>)</span>
<span id="cb72-3"><a href="background.html#cb72-3" aria-hidden="true" tabindex="-1"></a>(college <span class="ot">&lt;-</span> <span class="fu">prettyNum</span>(<span class="fu">round</span>(education[<span class="dv">4</span>, <span class="dv">2</span>]<span class="sc">/</span><span class="fu">sum</span>(education[, <span class="dv">2</span>]) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">0</span>), <span class="at">big.mark =</span> <span class="st">&quot;,&quot;</span>, <span class="at">scientific =</span> F))</span></code></pre></div>
<pre><code>## [1] &quot;12&quot;</code></pre>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="background.html#cb74-1" aria-hidden="true" tabindex="-1"></a>ethnic <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">table</span>(fullSample<span class="sc">$</span>race))</span>
<span id="cb74-2"><a href="background.html#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(ethnic) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Ethnicity/Race&quot;</span>, <span class="st">&quot;Participants&quot;</span>)</span>
<span id="cb74-3"><a href="background.html#cb74-3" aria-hidden="true" tabindex="-1"></a>ethnic</span></code></pre></div>
<pre><code>##      Ethnicity/Race Participants
## 1  African American         6354
## 2           Chinese         1189
## 3          Japanese          266
## 4            Korean          528
## 5         Philipino          649
## 6  Indian/Pakistani          498
## 7       Other Asian          597
## 8            Latino         2184
## 9           Mexican         2249
## 10     Puerto Rican          555
## 11  Native American          741
## 12 Pacific Islander          329
## 13  White/Caucasian        63763
## 14            Other         3201</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="background.html#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># fullSample &lt;- IPIP100items04apr2006thru7feb2017</span></span>
<span id="cb76-2"><a href="background.html#cb76-2" aria-hidden="true" tabindex="-1"></a>fullSample <span class="sc">%&gt;%</span> </span>
<span id="cb76-3"><a href="background.html#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(country)) <span class="sc">%&gt;%</span></span>
<span id="cb76-4"><a href="background.html#cb76-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(country) <span class="sc">%&gt;%</span> </span>
<span id="cb76-5"><a href="background.html#cb76-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb76-6"><a href="background.html#cb76-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb76-7"><a href="background.html#cb76-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">%in%</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>) <span class="sc">%&gt;%</span></span>
<span id="cb76-8"><a href="background.html#cb76-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(., <span class="st">&quot;html&quot;</span>, <span class="at">booktabs =</span> T, <span class="at">escape =</span> F,</span>
<span id="cb76-9"><a href="background.html#cb76-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span> <span class="st">&quot;Sample Sizes in Top 25 Countries&quot;</span>,</span>
<span id="cb76-10"><a href="background.html#cb76-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">&quot;Country&quot;</span>, <span class="st">&quot;Frequency&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb76-11"><a href="background.html#cb76-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> F)</span></code></pre></div>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-2">Table 2.1: </span>Sample Sizes in Top 25 Countries
</caption>
<thead>
<tr>
<th style="text-align:left;">
Country
</th>
<th style="text-align:right;">
Frequency
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
USA
</td>
<td style="text-align:right;">
251926
</td>
</tr>
<tr>
<td style="text-align:left;">
CAN
</td>
<td style="text-align:right;">
16242
</td>
</tr>
<tr>
<td style="text-align:left;">
GBR
</td>
<td style="text-align:right;">
11239
</td>
</tr>
<tr>
<td style="text-align:left;">
AUS
</td>
<td style="text-align:right;">
8437
</td>
</tr>
<tr>
<td style="text-align:left;">
IND
</td>
<td style="text-align:right;">
4577
</td>
</tr>
<tr>
<td style="text-align:left;">
SWE
</td>
<td style="text-align:right;">
2999
</td>
</tr>
<tr>
<td style="text-align:left;">
MYS
</td>
<td style="text-align:right;">
2995
</td>
</tr>
<tr>
<td style="text-align:left;">
PHL
</td>
<td style="text-align:right;">
2995
</td>
</tr>
<tr>
<td style="text-align:left;">
DEU
</td>
<td style="text-align:right;">
2974
</td>
</tr>
<tr>
<td style="text-align:left;">
CHN
</td>
<td style="text-align:right;">
2086
</td>
</tr>
<tr>
<td style="text-align:left;">
SGP
</td>
<td style="text-align:right;">
1886
</td>
</tr>
<tr>
<td style="text-align:left;">
NLD
</td>
<td style="text-align:right;">
1754
</td>
</tr>
<tr>
<td style="text-align:left;">
MEX
</td>
<td style="text-align:right;">
1540
</td>
</tr>
<tr>
<td style="text-align:left;">
NOR
</td>
<td style="text-align:right;">
1484
</td>
</tr>
<tr>
<td style="text-align:left;">
NZL
</td>
<td style="text-align:right;">
1431
</td>
</tr>
<tr>
<td style="text-align:left;">
ZAF
</td>
<td style="text-align:right;">
1191
</td>
</tr>
<tr>
<td style="text-align:left;">
FRA
</td>
<td style="text-align:right;">
1148
</td>
</tr>
<tr>
<td style="text-align:left;">
BRA
</td>
<td style="text-align:right;">
1147
</td>
</tr>
<tr>
<td style="text-align:left;">
POL
</td>
<td style="text-align:right;">
1114
</td>
</tr>
<tr>
<td style="text-align:left;">
IRL
</td>
<td style="text-align:right;">
1090
</td>
</tr>
<tr>
<td style="text-align:left;">
FIN
</td>
<td style="text-align:right;">
963
</td>
</tr>
<tr>
<td style="text-align:left;">
ROU
</td>
<td style="text-align:right;">
924
</td>
</tr>
<tr>
<td style="text-align:left;">
HKG
</td>
<td style="text-align:right;">
919
</td>
</tr>
<tr>
<td style="text-align:left;">
IDN
</td>
<td style="text-align:right;">
847
</td>
</tr>
<tr>
<td style="text-align:left;">
ITA
</td>
<td style="text-align:right;">
783
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="background.html#cb77-1" aria-hidden="true" tabindex="-1"></a>ethnic <span class="sc">%&gt;%</span></span>
<span id="cb77-2"><a href="background.html#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Participants)) <span class="sc">%&gt;%</span></span>
<span id="cb77-3"><a href="background.html#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(., <span class="st">&quot;html&quot;</span>, <span class="at">booktabs =</span> T, <span class="at">escape =</span> F,</span>
<span id="cb77-4"><a href="background.html#cb77-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span> <span class="st">&quot;Race/Ethnicity Among U.S. Participants in the full sample&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb77-5"><a href="background.html#cb77-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> F)</span></code></pre></div>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-3">Table 2.2: </span>Race/Ethnicity Among U.S. Participants in the full sample
</caption>
<thead>
<tr>
<th style="text-align:left;">
Ethnicity/Race
</th>
<th style="text-align:right;">
Participants
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
White/Caucasian
</td>
<td style="text-align:right;">
63763
</td>
</tr>
<tr>
<td style="text-align:left;">
African American
</td>
<td style="text-align:right;">
6354
</td>
</tr>
<tr>
<td style="text-align:left;">
Other
</td>
<td style="text-align:right;">
3201
</td>
</tr>
<tr>
<td style="text-align:left;">
Mexican
</td>
<td style="text-align:right;">
2249
</td>
</tr>
<tr>
<td style="text-align:left;">
Latino
</td>
<td style="text-align:right;">
2184
</td>
</tr>
<tr>
<td style="text-align:left;">
Chinese
</td>
<td style="text-align:right;">
1189
</td>
</tr>
<tr>
<td style="text-align:left;">
Native American
</td>
<td style="text-align:right;">
741
</td>
</tr>
<tr>
<td style="text-align:left;">
Philipino
</td>
<td style="text-align:right;">
649
</td>
</tr>
<tr>
<td style="text-align:left;">
Other Asian
</td>
<td style="text-align:right;">
597
</td>
</tr>
<tr>
<td style="text-align:left;">
Puerto Rican
</td>
<td style="text-align:right;">
555
</td>
</tr>
<tr>
<td style="text-align:left;">
Korean
</td>
<td style="text-align:right;">
528
</td>
</tr>
<tr>
<td style="text-align:left;">
Indian/Pakistani
</td>
<td style="text-align:right;">
498
</td>
</tr>
<tr>
<td style="text-align:left;">
Pacific Islander
</td>
<td style="text-align:right;">
329
</td>
</tr>
<tr>
<td style="text-align:left;">
Japanese
</td>
<td style="text-align:right;">
266
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="background.html#cb78-1" aria-hidden="true" tabindex="-1"></a>levs <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">old =</span> <span class="fu">c</span>(<span class="st">&quot;less12yrs&quot;</span>, <span class="st">&quot;Less than 12 years&quot;</span>, <span class="st">&quot;HSgrad&quot;</span>, <span class="st">&quot;High school graduate&quot;</span>, <span class="st">&quot;SomeCollege&quot;</span>, </span>
<span id="cb78-2"><a href="background.html#cb78-2" aria-hidden="true" tabindex="-1"></a>                 <span class="st">&quot;Some college did not graduate&quot;</span>, <span class="st">&quot;CurrentInUniv&quot;</span>, <span class="st">&quot;Currently attending college&quot;</span>,</span>
<span id="cb78-3"><a href="background.html#cb78-3" aria-hidden="true" tabindex="-1"></a>                 <span class="st">&quot;CollegeDegree&quot;</span>, <span class="st">&quot;College graduate&quot;</span>, <span class="st">&quot;InGradOrProSchool&quot;</span>, <span class="st">&quot;Graduate or professional degree&quot;</span>,</span>
<span id="cb78-4"><a href="background.html#cb78-4" aria-hidden="true" tabindex="-1"></a>                 <span class="st">&quot;GradOrProDegree&quot;</span>),</span>
<span id="cb78-5"><a href="background.html#cb78-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">new =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&quot;Less than 12 years&quot;</span>, <span class="dv">2</span>), <span class="fu">rep</span>(<span class="st">&quot;High school graduate&quot;</span>, <span class="dv">2</span>), </span>
<span id="cb78-6"><a href="background.html#cb78-6" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">rep</span>(<span class="st">&quot;Some college/university, but did not graduate&quot;</span>, <span class="dv">2</span>),</span>
<span id="cb78-7"><a href="background.html#cb78-7" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">rep</span>(<span class="st">&quot;Currently in college/university&quot;</span>, <span class="dv">2</span>), <span class="fu">rep</span>(<span class="st">&quot;College/university degree&quot;</span>, <span class="dv">2</span>),</span>
<span id="cb78-8"><a href="background.html#cb78-8" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&quot;Currently in graduate or professional school&quot;</span>, </span>
<span id="cb78-9"><a href="background.html#cb78-9" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">rep</span>(<span class="st">&quot;Graduate or professional school degree&quot;</span>, <span class="dv">2</span>)))</span>
<span id="cb78-10"><a href="background.html#cb78-10" aria-hidden="true" tabindex="-1"></a>education <span class="sc">%&gt;%</span></span>
<span id="cb78-11"><a href="background.html#cb78-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Educational Level</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">mapvalues</span>(<span class="st">`</span><span class="at">Educational Level</span><span class="st">`</span>, levs<span class="sc">$</span>old, levs<span class="sc">$</span>new)) <span class="sc">%&gt;%</span></span>
<span id="cb78-12"><a href="background.html#cb78-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Educational Level</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb78-13"><a href="background.html#cb78-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Participants =</span> <span class="fu">sum</span>(Participants)) <span class="sc">%&gt;%</span></span>
<span id="cb78-14"><a href="background.html#cb78-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb78-15"><a href="background.html#cb78-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Educational Level</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">factor</span>(<span class="st">`</span><span class="at">Educational Level</span><span class="st">`</span>, <span class="at">levels =</span> <span class="fu">unique</span>(levs<span class="sc">$</span>new))) <span class="sc">%&gt;%</span></span>
<span id="cb78-16"><a href="background.html#cb78-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="st">`</span><span class="at">Educational Level</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb78-17"><a href="background.html#cb78-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(., <span class="st">&quot;html&quot;</span>, <span class="at">booktabs =</span> T, <span class="at">escape =</span> F,</span>
<span id="cb78-18"><a href="background.html#cb78-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span> <span class="st">&quot;Educational Attainment Level in the full sample&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb78-19"><a href="background.html#cb78-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> F)</span></code></pre></div>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-4">Table 2.3: </span>Educational Attainment Level in the full sample
</caption>
<thead>
<tr>
<th style="text-align:left;">
Educational Level
</th>
<th style="text-align:right;">
Participants
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Less than 12 years
</td>
<td style="text-align:right;">
48063
</td>
</tr>
<tr>
<td style="text-align:left;">
High school graduate
</td>
<td style="text-align:right;">
26554
</td>
</tr>
<tr>
<td style="text-align:left;">
Some college/university, but did not graduate
</td>
<td style="text-align:right;">
23742
</td>
</tr>
<tr>
<td style="text-align:left;">
Currently in college/university
</td>
<td style="text-align:right;">
146863
</td>
</tr>
<tr>
<td style="text-align:left;">
College/university degree
</td>
<td style="text-align:right;">
50316
</td>
</tr>
<tr>
<td style="text-align:left;">
Currently in graduate or professional school
</td>
<td style="text-align:right;">
11431
</td>
</tr>
<tr>
<td style="text-align:left;">
Graduate or professional school degree
</td>
<td style="text-align:right;">
37959
</td>
</tr>
</tbody>
</table>
<p>It’s also useful to describe the extent of the missingness in the data (for the IPIP100 variables) and the number of pairwise administrations across the items. While we’re at it, we’ll also bootstrap estimates of the standard errors of the item-level correlations.</p>
<pre class="rstep6"><code>items &lt;- colnames(subset(fullSample, select = c(q_55:q_1989)))

not_na_count &lt;- apply(fullSample[,items], 1, function(x) sum(!is.na(x)))

partAdminsMean &lt;- round(mean(not_na_count), 0)
partAdminsMean &lt;- prettyNum(partAdminsMean, big.mark=&quot;,&quot;, scientific=F)

partAdminsMedian &lt;- round(median(not_na_count), 0)
partAdminsMedian &lt;- prettyNum(partAdminsMedian, big.mark=&quot;,&quot;, scientific=F)

partAdminsSD &lt;- round(sd(not_na_count), 0)
partAdminsSD &lt;- prettyNum(partAdminsSD, big.mark=&quot;,&quot;, scientific=F)

described &lt;- describe(fullSample[,items])

AdminsMean &lt;- round(mean(described$n), 0)
AdminsMean &lt;- prettyNum(AdminsMean, big.mark=&quot;,&quot;, scientific=F)

AdminsMedian &lt;- round(median(described$n), 0)
AdminsMedian &lt;- prettyNum(AdminsMedian, big.mark=&quot;,&quot;, scientific=F)

AdminsSD &lt;- round(sd(described$n), 0)
AdminsSD &lt;- prettyNum(AdminsSD, big.mark=&quot;,&quot;, scientific=F)

# The mean, median and sd of administrations of items
AdminsMean
AdminsMedian
AdminsSD
rm(described)

pwiseAdmins1 &lt;- pairwiseDescribe(fullSample[,items])
pwiseAdmins &lt;- prettyNum(pwiseAdmins1, big.mark=&quot;,&quot;, scientific=F)

pwiseAdminsMean &lt;- round(pwiseAdmins1$mean, 0)
pwiseAdminsMean &lt;- prettyNum(pwiseAdminsMean, big.mark=&quot;,&quot;, scientific=F)

pwiseAdminsMedian &lt;- round(pwiseAdmins1$median, 0)
pwiseAdminsMedian &lt;- prettyNum(pwiseAdminsMedian, big.mark=&quot;,&quot;, scientific=F)

pwiseAdminsSD &lt;- round(pwiseAdmins1$sd, 0)
pwiseAdminsSD &lt;- prettyNum(pwiseAdminsSD, big.mark=&quot;,&quot;, scientific=F)

pwiseAdminsMin &lt;- round(pwiseAdmins1$min, 0)
pwiseAdminsMin &lt;- prettyNum(pwiseAdminsMin, big.mark=&quot;,&quot;, scientific=F)

# The mean, median and sd of pairwise administrations of items
pwiseAdminsMean
pwiseAdminsMedian
pwiseAdminsSD

#rm(pwiseAdmins1)</code></pre>
<pre class="rstep7"><code># the CIs around the rs
IPIP100CorCI &lt;- cor.ci(fullSample[,items], p=.05, n.iter = 100, overlap=FALSE, plot = FALSE, poly = FALSE)
save(IPIP100CorCI, file = &quot;~/Downloads/cor_stab.RData&quot;)</code></pre>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="background.html#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="fu">url</span>(<span class="fu">sprintf</span>(<span class="st">&quot;%s/results/cor_stab.RData?raw=true&quot;</span>, data_path)))</span>
<span id="cb81-2"><a href="background.html#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">density</span>(IPIP100CorCI<span class="sc">$</span>sds), <span class="at">main=</span><span class="st">&quot;&quot;</span>, <span class="at">ylab=</span><span class="st">&quot;Frequency&quot;</span>, <span class="at">xlab=</span><span class="st">&quot;Standard error of item-level correlations&quot;</span>, <span class="at">xlim=</span> <span class="fu">c</span>(<span class="dv">0</span>,.<span class="dv">02</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1000</span>))</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-7"></span>
<img src="age_nets_files/figure-html/unnamed-chunk-7-1.png" alt="Supplementary Figure 2. Standard error of item-level correlations" width="672" />
<p class="caption">
Figure 2.1: Supplementary Figure 2. Standard error of item-level correlations
</p>
</div>
<p>Clean up some of the helper objects and save the data for further analysis later.</p>
<pre class="rstep8"><code>IPIP100items04apr2006thru7feb2017 &lt;- fullSample

ItemInfo100 &lt;- ItemInfo[items,1:2]

keys.list.trimmed &lt;- keys.list[c(&quot;IPIP100agreeableness20&quot;,&quot;IPIP100conscientiousness20&quot;, &quot;IPIP100extraversion20&quot;, &quot;IPIP100intellect20&quot;, &quot;IPIP100EmotionalStability20&quot;)]

ItemLists.trimmed &lt;- ItemLists[c(&quot;IPIP100agreeableness20&quot;,&quot;IPIP100conscientiousness20&quot;, &quot;IPIP100extraversion20&quot;, &quot;IPIP100intellect20&quot;, &quot;IPIP100EmotionalStability20&quot;)]

save(IPIP100items04apr2006thru7feb2017, ItemInfo100, ItemLists.trimmed, keys.list.trimmed, file=paste(data_path, &quot;IPIP100items04apr2006thru7feb2017.rdata&quot;, sep=&quot;&quot;))</code></pre>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="background.html#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">c</span>(<span class="st">&quot;fullSample&quot;</span>,<span class="st">&quot;state&quot;</span>,<span class="st">&quot;empty&quot;</span>))</span>
<span id="cb83-2"><a href="background.html#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gc</span>()</span></code></pre></div>
<pre><code>##             used   (Mb) gc trigger   (Mb) limit (Mb)   max used    (Mb)
## Ncells  11976960  639.7   27622082 1475.2         NA   53948894  2881.2
## Vcells 499426029 3810.4 1130223224 8623.0      32768 2803745350 21390.9</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="workspace.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["age_nets.pdf", "age_nets.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
